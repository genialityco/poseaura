<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Flujo de Bienvenida y Pose</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>

  <body>
    <!-- VIDEO DE FONDO (opcional) -->
    <video id="globalBackgroundVideo" autoplay muted loop>
      <source src="/LA-NOCHE-DE-LAS-ESTRELLA-02.mp4" type="video/mp4" />
      Tu navegador no soporta video en HTML5.
    </video>

    <!-- Contenedor para Three.js -->
    <div id="three-container">
      <!-- Botón "Deja tu huella" (si lo quieres visible) -->
      <button id="signatureButton" class="overlayButton">Deja tu huella</button>
    </div>

    <!-- Botón webcam (opcional) -->
    <button id="webcamButton">■</button>

    <!-- Un solo <video> -->
    <video id="webcam" autoplay playsinline muted></video>
    <canvas id="webgl"></canvas>

    <!-- Overlay de bienvenida -->
    <div id="welcomeScreen" class="overlay">
      <div class="text">
        <p>Toda gran historia comienza en silencio...</p>
        <p>Durante años, avanzaste en medio del ruido...<br />
           Hoy es momento de escuchar lo más profundo de ti.</p>
      </div>
      <button id="startButton">Comenzar</button>
    </div>

    <!-- Overlay de instrucciones -->
    <div id="instructionScreen" class="overlay hidden">
      <div class="text">
        <p>Mírate.<br />
           Detrás de esta mirada hay sacrificios, sueños, coraje...<br />
           Hoy no celebramos lo que hiciste.<br />
           Celebramos lo que eres.</p>
      </div>
    </div>

    <!-- Modal para mensaje (aunque no se use localmente) -->
    <div id="signatureModal" class="modal hidden">
      <div class="modal-content">
        <p>¿Qué descubriste en tu camino que quieres que otros recuerden?</p>
        <p>
          Escribe un mensaje para ti, para alguien que empieza, o para el
          mundo.<br />
          Un recuerdo. Una promesa. Una verdad.
        </p>
        <textarea id="signatureInput" rows="4" placeholder="Escribe tu mensaje aquí..."></textarea>
        <div class="modal-buttons">
          <button id="signatureSubmit">Enviar</button>
          <button id="signatureClose">Cerrar</button>
        </div>
      </div>
    </div>

    <div id="msgBox" class="hidden"></div>
    <button id="resetButton" class="hidden">Reiniciar</button>

    <!-- Div para demos / debug -->
    <div id="demos" class="hidden"></div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
